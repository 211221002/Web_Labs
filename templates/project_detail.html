<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container-xxl position-relative bg-white d-flex p-0">
        {% include 'sidebar.html' %}
        <div class="content">
            {% include 'navbar.html' %}
            <div class="container mt-5">
                <h2 class="text-center">{{ project.project_name }}</h2>
                <p class="text-center">{{ project.project_description }}</p>
                <div class="container-fluid pt-4 px-4">
                    <div class="bg-light text-center rounded p-4">
                        <h4>Project Details</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Project Creator</h5>
                                <p>{{ project.project_creator }}</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Status</h5>
                                <p>{{ status_penelitian }}</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Deadline</h5>
                                <p>{{ project.deadline }}</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Progress</h5>
                                <p>{{ project.progress | round(2) }}%</p>
                            </div>
                        </div>

                        <h4 class="mt-4">Members</h4>
                        <ul class="list-group">
                            {% for member in members %}
                            <li class="list-group-item">{{ member.name }} - {{ member.role }}</li>
                            {% endfor %}
                        </ul>

                        <h4 class="mt-4">Schedules</h4>
                        {% if schedules %}
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Activity</th>
                                    <th scope="col">Assigned To</th>
                                    <th scope="col">Start Date</th>
                                    <th scope="col">End Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for schedule in schedules %}
                                <tr>
                                    <td>{{ schedule.activity_name }}</td>
                                    <td>{{ schedule.assigned_to }}</td>
                                    <td>{{ schedule.start_date }}</td>
                                    <td>{{ schedule.end_date }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% else %}
                        <p>No schedules available.</p>
                        {% endif %}

                        <h4 class="mt-4">Tasks</h4>
                        {% if tasks %}
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Task</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Deadline</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for task in tasks %}
                                <tr>
                                    <td>{{ task.name }}</td>
                                    <td>{{ task.status }}</td>
                                    <td>{{ task.deadline }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% else %}
                        <p>No tasks available.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-primary rounded-circle position-fixed"
        style="bottom: 20px; right: 20px; z-index: 100;" data-toggle="modal" data-target="#chatModal">
        <i class="fas fa-comment-alt"></i> Chat
    </button>
    {% include 'footer.html' %}
    {% include 'chat.html' %}
    <script src="{{ url_for('static', filename='chat.js') }}"></script>
    <script src="chat.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="static/main.js"></script>
</body>

</html>
